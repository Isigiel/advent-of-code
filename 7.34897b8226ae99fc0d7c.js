(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2UZT":function(e,t,s){"use strict";s.r(t),s.d(t,"Day8Module",function(){return F});var i=s("ofXK"),n=s("tyNb"),r=s("XNiG"),c=s("2Vo4"),o=s("HDdC"),a=s("quSY");class h extends a.a{constructor(e,t){super()}schedule(e,t=0){return this}}class l extends h{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,s=0){return setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(n){i=!0,s=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,s=t.actions,i=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&s.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let d=(()=>{class e{constructor(t,s=e.now){this.SchedulerAction=t,this.now=s}schedule(e,t=0,s){return new this.SchedulerAction(this,e).schedule(s,t)}}return e.now=()=>Date.now(),e})();class u extends d{constructor(e,t=d.now){super(e,()=>u.delegate&&u.delegate!==this?u.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,s){return u.delegate&&u.delegate!==this?u.delegate.schedule(e,t,s):super.schedule(e,t,s)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}const b=new u(l);var p=s("DH7j");function x(e){const{subscriber:t,counter:s,period:i}=e;t.next(s),this.schedule({subscriber:t,counter:s+1,period:i},i)}var w=s("eIep"),f=s("l7GE"),m=s("ZUHj");class g{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new v(e,this.observables,this.project))}}class v extends f.a{constructor(e,t,s){super(e),this.observables=t,this.project=s,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let n=0;n<i;n++)this.toRespond.push(n);for(let n=0;n<i;n++){let e=t[n];this.add(Object(m.a)(this,e,void 0,n))}}notifyNext(e,t,s){this.values[s]=t;const i=this.toRespond;if(i.length>0){const e=i.indexOf(s);-1!==e&&i.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}var y=s("vkgz"),C=s("7o/Q");class O{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new j(e,this.predicate,this.inclusive))}}class j extends C.a{constructor(e,t,s){super(e),this.predicate=t,this.inclusive=s,this.index=0}_next(e){const t=this.destination;let s;try{s=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,s)}nextOrComplete(e,t){const s=this.destination;Boolean(t)?s.next(e):(this.inclusive&&s.next(e),s.complete())}}var I=s("fXoL"),V=s("EY2u");function k(e,t){return s=>s.lift(new $(e,t))}class ${constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new J(e,this.compare,this.keySelector))}}class J extends C.a{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:s}=this;t=s?s(e):e}catch(i){return this.destination.error(i)}let s=!1;if(this.hasKey)try{const{compare:e}=this;s=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}var E=s("JIr8");let A=(()=>{class e{constructor(e,t,s,i){var n;this.templateRef=s,this.viewContainerRef=i,this.ViewContext={$implicit:void 0,ngrxLet:void 0,$error:!1,$complete:!1},this.resetContextObserver={next:()=>{this.embeddedView&&(this.ViewContext.$implicit=void 0,this.ViewContext.ngrxLet=void 0,this.ViewContext.$error=!1,this.ViewContext.$complete=!1)}},this.updateViewContextObserver={next:e=>{this.embeddedView||this.createEmbeddedView(),this.ViewContext.$implicit=e,this.ViewContext.ngrxLet=e},error:e=>{this.embeddedView||this.createEmbeddedView(),this.ViewContext.$error=!0},complete:()=>{this.embeddedView||this.createEmbeddedView(),this.ViewContext.$complete=!0}},this.cdAware=function(e){const t=new r.a,s=t.pipe(k()).pipe(Object(w.a)(t=>null==t?(e.updateViewContextObserver.next(t),e.render(),V.a):(e.resetContextObserver.next(),e.render(),t.pipe(k(),Object(y.a)(e.updateViewContextObserver),Object(y.a)(()=>e.render()),Object(E.a)(e=>(console.error(e),V.a))))));return{nextPotentialObservable(e){t.next(e)},subscribe:()=>s.subscribe()}}({render:(n={cdRef:e,ngZone:t},function(){n.ngZone instanceof I.z?n.cdRef.markForCheck():n.cdRef.detectChanges()}),resetContextObserver:this.resetContextObserver,updateViewContextObserver:this.updateViewContextObserver}),this.subscription=this.cdAware.subscribe()}static ngTemplateContextGuard(e,t){return!0}set ngrxLet(e){this.cdAware.nextPotentialObservable(e)}createEmbeddedView(){this.embeddedView=this.viewContainerRef.createEmbeddedView(this.templateRef,this.ViewContext)}ngOnDestroy(){this.subscription.unsubscribe(),this.viewContainerRef.clear()}}return e.\u0275fac=function(t){return new(t||e)(I.Eb(I.h),I.Eb(I.z),I.Eb(I.K),I.Eb(I.O))},e.\u0275dir=I.zb({type:e,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet"}}),e})(),R=(()=>{class e{}return e.\u0275mod=I.Cb({type:e}),e.\u0275inj=I.Bb({factory:function(t){return new(t||e)}}),e})();const Z=function(e){return{hidden:e}};function L(e,t){if(1&e&&(I.Hb(0),I.Jb(1,"div"),I.Fb(2,"img",11),I.Ib(),I.Jb(3,"div"),I.Zb(4),I.Ib(),I.Jb(5,"div"),I.Zb(6),I.Ib(),I.Gb()),2&e){const e=t.$implicit,s=t.index,i=I.Qb().$implicit;I.ub(2),I.Tb("ngClass",I.Ub(3,Z,s!=i.next)),I.ub(2),I.ac(e[0]),I.ub(2),I.ac(e[1])}}function _(e,t){if(1&e&&(I.Jb(0,"div",7),I.Jb(1,"div",8),I.Yb(2,L,7,5,"ng-container",9),I.Ib(),I.Jb(3,"div",10),I.Jb(4,"span"),I.Zb(5),I.Ib(),I.Fb(6,"br"),I.Jb(7,"span"),I.Zb(8),I.Rb(9,"async"),I.Ib(),I.Ib(),I.Ib()),2&e){const e=t.$implicit,s=I.Qb();I.ub(2),I.Tb("ngForOf",s.instructions),I.ub(3),I.cc("Next instruction: ",e.next," \xa0 Accumulator: ",e.acc,""),I.ub(3),I.bc("Completed instructions: ",I.Sb(9,4,s.executed),"")}}const S=[{path:"",component:(()=>{class e{constructor(){this.exampleInput="nop +0\nacc +1\njmp +4\nacc +3\njmp -3\nacc -99\nacc +1\njmp -4\nacc +6",this.start=new r.a,this.state$=new c.a({acc:0,next:0}),this.executed=new c.a([]),this.instructions=this.exampleInput.split("\n").map(e=>e.match(/(\w\w\w) ([+-]\d+)/i).splice(1)).map(([e,t])=>[e,parseInt(t,10)]),this.start.pipe(Object(w.a)(()=>function(e=0,t=b){var s;return s=e,(Object(p.a)(s)||!(s-parseFloat(s)+1>=0)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=b),new o.a(s=>(s.add(t.schedule(x,e,{subscriber:s,counter:0,period:e})),s))}(1e3))).pipe(function(...e){return t=>{let s;return"function"==typeof e[e.length-1]&&(s=e.pop()),t.lift(new g(e,s))}}(this.state$,this.executed),Object(y.a)(console.log),function(e,t=!1){return s=>s.lift(new O(e,t))}(([e,t,s])=>!s.includes(t.next))).subscribe(([e,t,s])=>{this.executed.next([...s,t.next]);const[i,n]=this.instructions[t.next];switch(i){case"nop":this.state$.next(Object.assign(Object.assign({},t),{next:t.next+1}));break;case"jmp":this.state$.next(Object.assign(Object.assign({},t),{next:t.next+n}));break;case"acc":this.state$.next(Object.assign(Object.assign({},t),{acc:t.acc+n,next:t.next+1}))}})}startExecution(){this.start.next(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=I.yb({type:e,selectors:[["app-day8"]],decls:11,vars:1,consts:[[1,"text-6xl","font-black","font-mono","text-center","my-6","text-transparent","bg-clip-text","bg-gradient-to-tr","from-green-400","to-green-500"],[1,"rounded-2xl","p-4","space-y-2","bg-gradient-to-tr","from-yellow-700","to-yellow-900"],[1,"mb-8"],[1,"font-bold","text-5xl","text-yellow-200","mb-4"],[1,"text-gray-100","font-bold","text-5xl"],["class","flex flex-row",4,"ngrxLet"],[1,"rounded","border","border-solid","border-white","text-white","text-2xl","px-2","cursor-pointer","hover:bg-white","hover:bg-opacity-10",3,"click"],[1,"flex","flex-row"],[1,"execution-grid","font-mono","text-white","text-2xl"],[4,"ngFor","ngForOf"],[1,"font-mono","text-white","text-2xl"],["src","/assets/images/arrow.svg","alt","\u27a1",1,"h-8",3,"ngClass"]],template:function(e,t){1&e&&(I.Jb(0,"h1",0),I.Zb(1," --- Day 8: Handheld Halting ---\n"),I.Ib(),I.Jb(2,"div",1),I.Jb(3,"div",2),I.Jb(4,"h2",3),I.Zb(5,"Part 1"),I.Ib(),I.Jb(6,"h3",4),I.Zb(7,"Code execution"),I.Ib(),I.Ib(),I.Yb(8,_,10,6,"div",5),I.Jb(9,"button",6),I.Ob("click",function(){return t.startExecution()}),I.Zb(10," Start execution "),I.Ib(),I.Ib()),2&e&&(I.ub(8),I.Tb("ngrxLet",t.state$))},directives:[A,i.j,i.i],pipes:[i.b],styles:["[_nghost-%COMP%]{display:block;padding:1rem}.execution-grid[_ngcontent-%COMP%]{display:grid;gap:.5rem;grid-template-columns:repeat(3,-webkit-max-content);grid-template-columns:repeat(3,max-content)}"],changeDetection:0}),e})()}];let D=(()=>{class e{}return e.\u0275mod=I.Cb({type:e}),e.\u0275inj=I.Bb({factory:function(t){return new(t||e)},imports:[[n.c.forChild(S)],n.c]}),e})(),F=(()=>{class e{}return e.\u0275mod=I.Cb({type:e}),e.\u0275inj=I.Bb({factory:function(t){return new(t||e)},imports:[[i.c,R,D]]}),e})()}}]);